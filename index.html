<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level Transmitter 4-20mA Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(to bottom right, #0f172a, #115e59, #0f172a);
            color: white;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2rem;
            margin-bottom: 8px;
        }
        
        .header p {
            color: #5eead4;
            font-size: 1.1rem;
        }
        
        .slider-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 30px;
        }
        
        .slider-section h3 {
            text-align: center;
            margin-bottom: 16px;
            font-size: 1.2rem;
        }
        
        .slider-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        input[type="range"] {
            width: 100%;
            height: 12px;
            border-radius: 6px;
            appearance: none;
            cursor: pointer;
            margin-bottom: 8px;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
        }
        
        .slider-labels {
            display: flex;
            justify-content: space-between;
            color: #5eead4;
            font-size: 0.875rem;
        }
        
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 32px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .panel-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 24px;
        }
        
        .panel-header h2 {
            font-size: 1.5rem;
            margin-left: 12px;
        }
        
        .tank-container {
            width: 256px;
            height: 384px;
            margin: 0 auto 24px;
        }
        
        .digital-display {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            padding: 16px;
            text-align: center;
            border: 1px solid rgba(20, 184, 166, 0.3);
            margin-bottom: 16px;
        }
        
        .display-value {
            font-size: 3rem;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }
        
        .display-unit {
            color: #5eead4;
            font-size: 0.875rem;
            margin-top: 4px;
        }
        
        .level-ranges {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }
        
        .level-range {
            border-radius: 8px;
            padding: 8px;
            text-align: center;
            font-size: 0.75rem;
        }
        
        .controller-panel {
            background: linear-gradient(to bottom right, #1e293b, #0f172a);
            border-radius: 12px;
            padding: 32px;
            border: 4px solid #475569;
            margin-bottom: 24px;
        }
        
        .status-led {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
        }
        
        .led {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #10b981;
            margin-right: 8px;
            animation: pulse 2s infinite;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        
        .current-display {
            background: black;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 16px;
            border: 1px solid rgba(16, 185, 129, 0.5);
        }
        
        .current-value {
            font-size: 3.75rem;
            font-weight: bold;
            color: #4ade80;
            font-family: 'Courier New', monospace;
            text-align: center;
        }
        
        .current-unit {
            color: #86efac;
            text-align: center;
            margin-top: 8px;
        }
        
        .bar-container {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            padding: 16px;
            border: 1px solid #475569;
        }
        
        .bar-label {
            color: #86efac;
            font-size: 0.75rem;
            margin-bottom: 8px;
            text-align: center;
        }
        
        .bar-track {
            width: 100%;
            height: 32px;
            background: #1e293b;
            border-radius: 9999px;
            overflow: hidden;
            border: 1px solid #475569;
        }
        
        .bar-fill {
            height: 100%;
            transition: width 0.3s ease-out;
        }
        
        .bar-markers {
            display: flex;
            justify-content: space-between;
            color: #94a3b8;
            font-size: 0.75rem;
            margin-top: 4px;
        }
        
        .alarm-panel {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 16px;
            border: 1px solid #475569;
        }
        
        .alarm-panel h3 {
            text-align: center;
            font-size: 0.875rem;
            margin-bottom: 12px;
        }
        
        .alarm-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 8px;
            background: rgba(51, 65, 85, 0.3);
        }
        
        .info-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .info-panel h3 {
            font-size: 1.25rem;
            margin-bottom: 12px;
        }
        
        .info-panel p {
            color: #5eead4;
            font-size: 0.875rem;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Level Transmitter Simulator</h1>
            <p>4-20mA Current Loop Signal Visualization</p>
        </div>
        
        <div class="slider-section">
            <h3>Adjust Tank Level</h3>
            <div class="slider-container">
                <input type="range" id="levelSlider" min="0" max="100" step="0.1" value="50">
                <div class="slider-labels">
                    <span>0% / 4 mA</span>
                    <span>50% / 12 mA</span>
                    <span>100% / 20 mA</span>
                </div>
            </div>
        </div>
        
        <div class="main-grid">
            <div class="panel">
                <div class="panel-header">
                    <h2>Tank Level Input</h2>
                </div>
                
                <div class="tank-container">
                    <svg id="tankSvg" viewBox="0 0 200 320" style="width: 100%; height: 100%;">
                        <!-- Tank body outline -->
                        <path d="M 50 20 L 50 280 Q 50 300 70 300 L 130 300 Q 150 300 150 280 L 150 20 Q 150 10 140 10 L 60 10 Q 50 10 50 20 Z" 
                              fill="#1e293b" stroke="#475569" stroke-width="3"/>
                        
                        <!-- Level markers -->
                        <line x1="45" y1="280" x2="55" y2="280" stroke="#64748b" stroke-width="2"/>
                        <line x1="145" y1="280" x2="155" y2="280" stroke="#64748b" stroke-width="2"/>
                        <text x="35" y="284" text-anchor="end" fill="#94a3b8" font-size="12" font-weight="bold">0%</text>
                        <text x="165" y="284" text-anchor="start" fill="#94a3b8" font-size="12" font-weight="bold">0%</text>
                        
                        <line x1="45" y1="215" x2="55" y2="215" stroke="#64748b" stroke-width="2"/>
                        <line x1="145" y1="215" x2="155" y2="215" stroke="#64748b" stroke-width="2"/>
                        <text x="35" y="219" text-anchor="end" fill="#94a3b8" font-size="12" font-weight="bold">25%</text>
                        <text x="165" y="219" text-anchor="start" fill="#94a3b8" font-size="12" font-weight="bold">25%</text>
                        
                        <line x1="45" y1="150" x2="55" y2="150" stroke="#64748b" stroke-width="2"/>
                        <line x1="145" y1="150" x2="155" y2="150" stroke="#64748b" stroke-width="2"/>
                        <text x="35" y="154" text-anchor="end" fill="#94a3b8" font-size="12" font-weight="bold">50%</text>
                        <text x="165" y="154" text-anchor="start" fill="#94a3b8" font-size="12" font-weight="bold">50%</text>
                        
                        <line x1="45" y1="85" x2="55" y2="85" stroke="#64748b" stroke-width="2"/>
                        <line x1="145" y1="85" x2="155" y2="85" stroke="#64748b" stroke-width="2"/>
                        <text x="35" y="89" text-anchor="end" fill="#94a3b8" font-size="12" font-weight="bold">75%</text>
                        <text x="165" y="89" text-anchor="start" fill="#94a3b8" font-size="12" font-weight="bold">75%</text>
                        
                        <line x1="45" y1="20" x2="55" y2="20" stroke="#64748b" stroke-width="2"/>
                        <line x1="145" y1="20" x2="155" y2="20" stroke="#64748b" stroke-width="2"/>
                        <text x="35" y="24" text-anchor="end" fill="#94a3b8" font-size="12" font-weight="bold">100%</text>
                        <text x="165" y="24" text-anchor="start" fill="#94a3b8" font-size="12" font-weight="bold">100%</text>
                        
                        <!-- Liquid fill -->
                        <path id="liquid" d="M 52 278 Q 52 298 70 298 L 130 298 Q 148 298 148 278 L 148 278 Z" fill="#ef4444"/>
                        
                        <!-- Glass shine overlay -->
                        <rect x="55" y="20" width="30" height="270" fill="url(#glassShine)" opacity="0.4"/>
                        
                        <!-- Gradient definitions -->
                        <defs>
                            <linearGradient id="glassShine" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" stop-color="white" stop-opacity="0"/>
                                <stop offset="50%" stop-color="white" stop-opacity="0.2"/>
                                <stop offset="100%" stop-color="white" stop-opacity="0"/>
                            </linearGradient>
                        </defs>
                        
                        <!-- Tank nozzle/pipe at bottom -->
                        <rect x="85" y="298" width="30" height="15" fill="#334155" stroke="#475569" stroke-width="2"/>
                        
                        <!-- Tank top dome -->
                        <ellipse cx="100" cy="10" rx="50" ry="8" fill="#1e293b" stroke="#475569" stroke-width="3"/>
                        
                        <!-- Transmitter sensor -->
                        <rect x="155" y="140" width="20" height="30" rx="3" fill="#64748b" stroke="#334155" stroke-width="2"/>
                        <circle id="sensorLed" cx="165" cy="155" r="5" fill="#10b981" opacity="0.8"/>
                        <line x1="150" y1="155" x2="155" y2="155" stroke="#64748b" stroke-width="2"/>
                    </svg>
                </div>
                
                <div class="digital-display">
                    <div class="display-value" id="levelValue">50.0</div>
                    <div class="display-unit">% LEVEL</div>
                </div>
                
                <div class="level-ranges">
                    <div class="level-range" id="range1" style="background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.2);">
                        <div style="color: #fca5a5; font-weight: 600;">Low</div>
                        <div style="color: #fecaca;">&lt;25%</div>
                    </div>
                    <div class="level-range" id="range2" style="background: rgba(245, 158, 11, 0.1); border: 1px solid rgba(245, 158, 11, 0.2);">
                        <div style="color: #fcd34d; font-weight: 600;">Med-Low</div>
                        <div style="color: #fde68a;">25-50%</div>
                    </div>
                    <div class="level-range" id="range3" style="background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.2);">
                        <div style="color: #6ee7b7; font-weight: 600;">Med-High</div>
                        <div style="color: #a7f3d0;">50-75%</div>
                    </div>
                    <div class="level-range" id="range4" style="background: rgba(6, 182, 212, 0.1); border: 1px solid rgba(6, 182, 212, 0.2);">
                        <div style="color: #67e8f9; font-weight: 600;">High</div>
                        <div style="color: #a5f3fc;">&gt;75%</div>
                    </div>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-header">
                    <h2>Current Output</h2>
                </div>
                
                <div class="controller-panel">
                    <div class="status-led">
                        <div class="led"></div>
                        <span style="color: #86efac; font-size: 0.875rem;">TRANSMITTING</span>
                    </div>
                    
                    <div class="current-display">
                        <div class="current-value" id="currentValue">12.00</div>
                        <div class="current-unit">mA</div>
                    </div>
                    
                    <div class="bar-container">
                        <div class="bar-label">Signal Strength</div>
                        <div class="bar-track">
                            <div class="bar-fill" id="barFill"></div>
                        </div>
                        <div class="bar-markers">
                            <span>4mA</span>
                            <span>12mA</span>
                            <span>20mA</span>
                        </div>
                    </div>
                </div>
                
                <div class="alarm-panel">
                    <h3>Alarm Status</h3>
                    <div class="alarm-item" id="lowAlarm">
                        <span style="font-size: 0.875rem; color: #cbd5e1;">Low Level Alarm</span>
                        <span id="lowAlarmStatus" style="font-size: 0.75rem; font-weight: 600; color: #64748b;">Normal</span>
                    </div>
                    <div class="alarm-item" id="highAlarm">
                        <span style="font-size: 0.875rem; color: #cbd5e1;">High Level Alarm</span>
                        <span id="highAlarmStatus" style="font-size: 0.75rem; font-weight: 600; color: #64748b;">Normal</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="info-panel">
            <h3>Level Transmitter Applications</h3>
            <p>
                Level transmitters are essential instruments in process industries for monitoring liquid levels in tanks, vessels, 
                and silos. They use various technologies including ultrasonic, radar, capacitance, or pressure-based sensing. 
                The 4-20mA output provides continuous level measurement that can be used for inventory management, process control, 
                and alarm triggering. A 0% reading (4mA) indicates an empty tank, while 100% (20mA) indicates a full tank. 
                Low and high-level alarms help prevent overflow conditions and ensure adequate supply for downstream processes.
            </p>
        </div>
    </div>
    
    <script>
        const slider = document.getElementById('levelSlider');
        const levelValue = document.getElementById('levelValue');
        const currentValue = document.getElementById('currentValue');
        const barFill = document.getElementById('barFill');
        const liquid = document.getElementById('liquid');
        const sensorLed = document.getElementById('sensorLed');
        const lowAlarm = document.getElementById('lowAlarm');
        const highAlarm = document.getElementById('highAlarm');
        const lowAlarmStatus = document.getElementById('lowAlarmStatus');
        const highAlarmStatus = document.getElementById('highAlarmStatus');
        
        function getLiquidColor(lvl) {
            if (lvl < 25) return { primary: '#ef4444', secondary: '#dc2626' };
            if (lvl < 50) return { primary: '#f59e0b', secondary: '#d97706' };
            if (lvl < 75) return { primary: '#10b981', secondary: '#059669' };
            return { primary: '#06b6d4', secondary: '#0891b2' };
        }
        
        function updateRangeHighlight(lvl) {
            const ranges = [
                document.getElementById('range1'),
                document.getElementById('range2'),
                document.getElementById('range3'),
                document.getElementById('range4')
            ];
            
            ranges.forEach((range, i) => {
                if ((i === 0 && lvl < 25) ||
                    (i === 1 && lvl >= 25 && lvl < 50) ||
                    (i === 2 && lvl >= 50 && lvl < 75) ||
                    (i === 3 && lvl >= 75)) {
                    range.style.opacity = '1';
                } else {
                    range.style.opacity = '0.5';
                }
            });
        }
        
        function updateValues() {
            const level = parseFloat(slider.value);
            const current = 4 + (level / 100) * 16;
            const color = getLiquidColor(level);
            
            // Update displays
            levelValue.textContent = level.toFixed(1);
            levelValue.style.color = color.primary;
            currentValue.textContent = current.toFixed(2);
            
            // Update bar fill
            barFill.style.width = ((current - 4) / 16 * 100) + '%';
            barFill.style.background = `linear-gradient(to right, ${color.primary}, ${color.secondary})`;
            
            // Update slider background
            slider.style.background = `linear-gradient(to right, #ef4444 0%, ${color.primary} ${level}%, #334155 ${level}%, #334155 100%)`;
            slider.style.setProperty('--thumb-color', color.primary);
            
            // Update tank liquid
            const liquidHeight = (level / 100) * 260;
            const liquidY = 278 - liquidHeight;
            liquid.setAttribute('d', `M 52 ${liquidY} L 52 278 Q 52 298 70 298 L 130 298 Q 148 298 148 278 L 148 ${liquidY} Z`);
            liquid.setAttribute('fill', color.primary);
            
            // Update sensor LED
            sensorLed.style.animationDuration = level > 0 ? '2s' : '0s';
            
            // Update alarms
            if (level < 10) {
                lowAlarm.style.background = 'rgba(239, 68, 68, 0.3)';
                lowAlarmStatus.textContent = 'ACTIVE';
                lowAlarmStatus.style.color = '#fca5a5';
            } else {
                lowAlarm.style.background = 'rgba(51, 65, 85, 0.3)';
                lowAlarmStatus.textContent = 'Normal';
                lowAlarmStatus.style.color = '#64748b';
            }
            
            if (level > 90) {
                highAlarm.style.background = 'rgba(239, 68, 68, 0.3)';
                highAlarmStatus.textContent = 'ACTIVE';
                highAlarmStatus.style.color = '#fca5a5';
            } else {
                highAlarm.style.background = 'rgba(51, 65, 85, 0.3)';
                highAlarmStatus.textContent = 'Normal';
                highAlarmStatus.style.color = '#64748b';
            }
            
            // Update range highlight
            updateRangeHighlight(level);
        }
        
        // Animate sensor LED
        setInterval(() => {
            const opacity = sensorLed.getAttribute('opacity');
            sensorLed.setAttribute('opacity', opacity === '0.8' ? '1' : '0.8');
        }, 1000);
        
        slider.addEventListener('input', updateValues);
        
        // Initialize
        updateValues();
    </script>
</body>
</html>
